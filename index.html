<style>
  body {
    font-family: 'Arial', sans-serif;
    text-align: center;
    padding: 20px;
    background-color: #f0f8ff;
    color: #333;
    overflow: hidden;
  }
  #start-screen, #game-screen, #end-screen {
    background-color: #fff;
    border-radius: 10px;
    padding: 30px;
    margin: 20px auto;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    max-width: 700px;
    display: none;
    flex-direction: column;
    align-items: center;
    position: relative;
    z-index: 1;
  }
  #start-screen { display: flex; }

  h1, h2, h3 { color: #2c3e50; }

  #start-family-photo {
      width: 150px;
      height: 100px;
      background-image: url('family.jpg');
      background-size: cover;
      background-position: center;
      border: 3px solid #f39c12;
      border-radius: 5px;
      margin-bottom: 20px;
  }

  #name-input {
    padding: 10px;
    font-size: 18px;
    border: 1px solid #ccc;
    border-radius: 5px;
    margin-bottom: 20px;
    width: 80%;
    max-width: 300px;
  }

  button {
    background-color: #4CAF50;
    color: white;
    padding: 12px 25px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 18px;
    transition: background-color 0.3s ease;
    margin: 5px;
  }
  button:hover { background-color: #45a049; }
  button:disabled {
    background-color: #cccccc;
    cursor: not-allowed;
  }

  .option-btn {
    background-color: #007bff;
    width: calc(50% - 20px);
    box-sizing: border-box;
  }
  .option-btn:hover { background-color: #0056b3; }

  .correct { background-color: #28a745 !important; }
  .wrong { background-color: #dc3545 !important; }

  #question {
    font-size: 32px;
    font-weight: bold;
    margin: 25px 0;
    color: #34495e;
  }

  #options {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    width: 100%;
  }

  /* 게임 영역 - 블래키, 섀도우볼, 집, 방어막 포함 */
  #game-elements-container {
    position: relative;
    width: 100%;
    max-width: 600px;
    height: 400px; /* 더 커진 요소들을 위해 높이 증가 */
    margin: 20px auto;
    display: flex;
    align-items: center;
    justify-content: space-between; /* 변경 없음 */
    padding: 0 20px;
    box-sizing: border-box;
    overflow: hidden;
  }

  #umbreon-container {
      position: relative;
      width: 240px; /* 블래키 2배 크기 */
      height: 240px; /* 블래키 2배 크기 */
      background-image: url('umbreon_attack.png');
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      opacity: 1;
      transform: translateX(0);
      transition: transform 0.3s ease-out;
      order: 2; /* 오른쪽에 배치 */
  }

  #shadowball-effect {
      position: absolute;
      width: 140px; /* 섀도우볼 크기 (비율 유지) */
      height: 140px; /* 섀도우볼 크기 (비율 유지) */
      background-image: url('shadow_ball.png');
      background-size: contain;
      background-repeat: no-repeat;
      opacity: 0;
      z-index: 5;
      top: 50%;
      right: 100px; /* 블래키 옆에서 시작 (오른쪽) */
      transform: translateY(-50%) translateX(0);
  }

  #house-container {
    position: relative;
    width: 400px; /* 집 2배 크기 */
    height: 400px; /* 집 2배 크기 */
    background-image: url('house_intact.png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    transition: background-image 0.5s ease-in-out;
    order: 1; /* 왼쪽에 배치 */
  }

  #house-explosion {
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background-image: url('explosion.gif');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    opacity: 0;
    transition: opacity 0.3s ease-in-out;
    z-index: 10;
  }
  #house-explosion.show { opacity: 1; }

  #shield-effect {
      position: absolute;
      width: 300px; /* 방어막 크기 (비율 유지) */
      height: 300px; /* 방어막 크기 (비율 유지) */
      background-image: url('shield.png');
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      opacity: 0;
      z-index: 6;
      top: 50%;
      left: 50px; /* 집의 약간 앞에 위치 (왼쪽) */
      transform: translateY(-50%) scale(0.5);
  }

  /* 애니메이션 키프레임 - 방향에 맞춰 translateX 값 조정 */
  @keyframes shadowball-shoot {
      0% { opacity: 0; transform: translateY(-50%) translateX(0) scale(0.5); }
      10% { opacity: 1; transform: translateY(-50%) translateX(0) scale(1); }
      80% { opacity: 1; transform: translateY(-50%) translateX(calc(-100% + 250px)) scale(1); } /* 집 위치까지 이동 (오른쪽에서 왼쪽으로) */
      100% { opacity: 0; transform: translateY(-50%) translateX(calc(-100% + 200px)) scale(0.5); } /* 충돌 후 사라짐 */
  }
  .shadowball-active #shadowball-effect {
      animation: shadowball-shoot 1s forwards;
  }

  @keyframes shield-activate {
      0% { opacity: 0; transform: translateY(-50%) scale(0.5); }
      50% { opacity: 1; transform: translateY(-50%) scale(1); }
      100% { opacity: 0; transform: translateY(-50%) scale(0.5); }
  }
  .shield-active #shield-effect {
      animation: shield-activate 1s forwards;
  }

  #house-status-text {
      font-size: 20px;
      margin-top: 10px;
  }
  #enemy-attack {
    font-size: 18px;
    min-height: 25px;
  }

  #scoreboard-table {
    width: 80%;
    margin-top: 20px;
    border-collapse: collapse;
  }
  #scoreboard-table th, #scoreboard-table td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: left;
  }
  #scoreboard-table th {
    background-color: #f2f2f2;
    color: #555;
  }
</style>
